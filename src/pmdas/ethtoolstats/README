Ethtool Stats PMDA
===================

This PMDA collects low level ethtool statistics from all the network
interfaces on the system that support such statistics (ethtool -S)

Metrics
=======

The metrics are generated on the fly. Most drivers will output the exact same
statistics no matter how many NICs of the same type will be used. There are
exceptions though: Two NICs using the same driver could have different queue
numbers and hence a different number of metrics. The metrics are driver specific,
hence the PMNS will look like the following:
ethtool.tg3.rx_octets
ethtool.tg3.tx_octets
ethtool.tg3.rxq0_rx_bytes
...

Each metric will have zero or more instances depending on the number of NICs
on the system. For example:
ethtool.bnx2x.[0]: tx_ucast_packets
    inst [0 or "eth5"] value 0
    inst [1 or "eth4"] value 0

Once the PMDA has been installed, the following command will list all
the available metrics and their explanatory "help" text:

	$ pminfo -fT ethtool

Installation
============

 +  # cd $PCP_PMDAS_DIR/ethtoolstats

 +  Check that there is no clash in the Performance Metrics Domain
    defined in ./domain.h and the other PMDAs currently in use (see
    $PCP_PMCDCONF_PATH).  If there is, edit ./domain.h to choose another
    domain number.

 +  Then simply use

	# ./Install

    and choose both the "collector" and "monitor" installation
    configuration options.

    You will be prompted to choose either a daemon implementation
    or a DSO implementation of the PMDA, and in the case of the daemon
    variant to select an IPC method -- everything else is automated

De-installation
===============

 +  Simply use

	# cd $PCP_PMDAS_DIR/ethtoolstats
	# ./Remove

Troubleshooting
===============

 +  After installing or restarting the agent, the PMCD log file
    ($PCP_LOG_DIR/pmcd/pmcd.log) and the PMDA log file
    ($PCP_LOG_DIR/pmcd/ethtoolstats.log) should be checked for any warnings
    or errors.
